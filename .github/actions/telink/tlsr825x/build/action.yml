name: 'Build a Telink tlsr825x project'
description: 'Install the Telink IDE, Zigbee SDK and the build a tlsr825x project'
inputs:
  ide:
    description: Location of the Telink IDE
    default: c:\telink\ide
  zigbee_sdk:
    description: Location of the Telink Zigbee SDK
    default: c:\telink\zigbee_sdk
  project:
    description: tlsr825x project to build
    default: sampleGW_8258
  board:
    description: tlsr825x board to target
    default:

runs:
  using: "composite"
  steps:
    - name: Build TLSR8258 ZigBee image
      shell: pwsh
      run: |
        eclipsec `
        -vm "${{ inputs.ide }}\jre\bin\client" `
        -noSplash `
        -application org.eclipse.cdt.managedbuilder.core.headlessbuild  `
        -data "${{ inputs.zigbee_sdk }}\tlsr_tc32" `
        -build "${{ inputs.zigbee_sdk }}/${{ inputs.project }}"
